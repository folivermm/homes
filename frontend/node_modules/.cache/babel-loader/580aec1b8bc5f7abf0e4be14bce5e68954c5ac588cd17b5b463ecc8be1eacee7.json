{"ast":null,"code":"import React,{useState}from'react';import SortHomes from'./SortHomes';import{Link,useNavigate}from'react-router-dom';import{formatDateTime}from'../utils/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeList(_ref){let{homes}=_ref;const[sortedHomes,setSortedHomes]=useState([...homes]);const navigate=useNavigate();const handleSort=_ref2=>{let{criteria,order}=_ref2;const sorted=[...sortedHomes].sort((a,b)=>{if(criteria==='price'){const priceA=parseFloat(a.price.replace('$','').replace(',',''));const priceB=parseFloat(b.price.replace('$','').replace(',',''));return order==='asc'?priceA-priceB:priceB-priceA;}else if(criteria==='registered'){const dateA=new Date(a.registered).getTime();const dateB=new Date(b.registered).getTime();return order==='asc'?dateA-dateB:dateB-dateA;}return 0;// Default, no sorting\n});setSortedHomes(sorted);};const handleAddHomeClick=()=>{navigate('/add');// Redirect to the \"/add\" route\n};function formatRegistrationDate(dateString){return formatDateTime(dateString);}// console.log('Homes Prop:', homes);\n// console.log('Sorted Homes:', sortedHomes);\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SortHomes,{onSort:handleSort}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddHomeClick,children:\"Add Home\"}),sortedHomes.map(home=>/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"home\",style:{marginBottom:'20px',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"img\",{src:home.image_url,alt:\"Home \".concat(home.id),\"data-testid\":\"home-image\",style:{maxWidth:'300px',maxHeight:'150px'}}),/*#__PURE__*/_jsx(Link,{to:\"/\".concat(home.id),children:\"View Details\"}),/*#__PURE__*/_jsxs(\"p\",{\"data-testid\":\"home-price\",style:{margin:'0'},children:[\"Price: \",home.price]}),/*#__PURE__*/_jsxs(\"p\",{\"data-testid\":\"home-address\",style:{margin:'0'},children:[\"Address: \",home.address]}),/*#__PURE__*/_jsxs(\"p\",{\"data-testid\":\"home-registered\",style:{margin:'0'},children:[\"Registration Date: \",formatRegistrationDate(home.registered)]})]},home.id))]});}export default HomeList;","map":{"version":3,"names":["React","useState","SortHomes","Link","useNavigate","formatDateTime","jsx","_jsx","jsxs","_jsxs","HomeList","_ref","homes","sortedHomes","setSortedHomes","navigate","handleSort","_ref2","criteria","order","sorted","sort","a","b","priceA","parseFloat","price","replace","priceB","dateA","Date","registered","getTime","dateB","handleAddHomeClick","formatRegistrationDate","dateString","children","onSort","onClick","map","home","style","marginBottom","display","flexDirection","src","image_url","alt","concat","id","maxWidth","maxHeight","to","margin","address"],"sources":["C:/Users/foliv/Desktop/homes/frontend/src/components/HomeList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport SortHomes from './SortHomes';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { formatDateTime } from '../utils/api';\r\n\r\nfunction HomeList({ homes }) {\r\n    const [sortedHomes, setSortedHomes] = useState([...homes]);\r\n    const navigate = useNavigate();\r\n    const handleSort = ({ criteria, order }) => {\r\n        const sorted = [...sortedHomes].sort((a, b) => {\r\n            if (criteria === 'price') {\r\n                const priceA = parseFloat(a.price.replace('$', '').replace(',', ''));\r\n                const priceB = parseFloat(b.price.replace('$', '').replace(',', ''));\r\n                return order === 'asc' ? priceA - priceB : priceB - priceA;\r\n            } else if (criteria === 'registered') {\r\n                const dateA = new Date(a.registered).getTime();\r\n                const dateB = new Date(b.registered).getTime();\r\n                return order === 'asc' ? dateA - dateB : dateB - dateA;\r\n            }\r\n            return 0; // Default, no sorting\r\n        });\r\n\r\n        setSortedHomes(sorted);\r\n    };\r\n    const handleAddHomeClick = () => {\r\n        navigate('/add'); // Redirect to the \"/add\" route\r\n    };\r\n    function formatRegistrationDate(dateString) {\r\n        return formatDateTime(dateString);\r\n    }\r\n    // console.log('Homes Prop:', homes);\r\n    // console.log('Sorted Homes:', sortedHomes);\r\n    return (\r\n        <div>\r\n            <SortHomes onSort={handleSort} />\r\n            <button onClick={handleAddHomeClick}>Add Home</button>\r\n            {sortedHomes.map((home) => (\r\n                <div key={home.id} data-testid=\"home\" style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column' }}>\r\n                    <img\r\n                        src={home.image_url}\r\n                        alt={`Home ${home.id}`}\r\n                        data-testid=\"home-image\"\r\n                        style={{ maxWidth: '300px', maxHeight: '150px' }}\r\n                    />\r\n                    <Link to={`/${home.id}`}>View Details</Link>\r\n                    <p data-testid=\"home-price\" style={{ margin: '0' }}>Price: {home.price}</p>\r\n                    <p data-testid=\"home-address\" style={{ margin: '0' }}>Address: {home.address}</p>\r\n                    <p data-testid=\"home-registered\" style={{ margin: '0' }}>Registration Date: {formatRegistrationDate(home.registered)}</p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomeList;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}