{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\n// import HomeList from './components/HomeList';\n// import HomeDetails from './components/HomeDetails';\n// import { listHomes } from './utils/api';\n// import { getHomeWithRealtor } from './utils/api'\n// function App() {\n//   const [homes, setHomes] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   useEffect(() => {\n//     async function fetchHomes() {\n//       try {\n//         const fetchedHomes = await listHomes();\n//         setHomes(fetchedHomes);\n//         setLoading(false);\n//       } catch (error) {\n//         console.error('Error fetching homes:', error);\n//         setError(error);\n//         setLoading(false);\n//       }\n//     }\n//     fetchHomes();\n//   }, []);\n//   return (\n//     <Router>\n//       <div className=\"App\">\n//         <Routes>\n//           <Route\n//             path=\"/\"\n//             element={\n//               loading ? (\n//                 <div>Loading...</div>\n//               ) : error ? (\n//                 <div>Error: {error.message}</div>\n//               ) : (\n//                 <HomeList homes={homes} />\n//               )\n//             }\n//           />\n//           <Route path=\"/:id\" element={<HomeDetails getHome={getHomeWithRealtor} />} />\n//         </Routes>\n//       </div>\n//     </Router>\n//   );\n// }\n// export default App;\nimport React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import HomeList from'./components/HomeList';import HomeDetails from'./components/HomeDetails';import AddHomeForm from'./components/AddHomeForm';// Import the AddHomeForm component\nimport{listHomes,listRealtors,getHomeWithRealtor}from'./utils/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[homes,setHomes]=useState([]);const[realtors,setRealtors]=useState([]);// Add a state variable for realtors\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchData(){try{const fetchedHomes=await listHomes();const fetchedRealtors=await listRealtors();// Fetch the list of realtors\nsetHomes(fetchedHomes);setRealtors(fetchedRealtors);// Set the list of realtors in state\nsetLoading(false);}catch(error){console.error('Error fetching data:',error);setError(error);setLoading(false);}}fetchData();},[]);const handleHomeAdded=newHome=>{// Update the list of homes with the new home\nsetHomes(prevHomes=>[...prevHomes,newHome]);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(HomeList,{homes:homes,onHomeAdded:handleHomeAdded})})}),/*#__PURE__*/_jsx(Route,{path:\"/:id\",element:/*#__PURE__*/_jsx(HomeDetails,{getHome:getHomeWithRealtor})}),/*#__PURE__*/_jsx(Route,{path:\"/add\",element:/*#__PURE__*/_jsx(AddHomeForm,{onHomeAdded:handleHomeAdded,realtors:realtors})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","HomeList","HomeDetails","AddHomeForm","listHomes","listRealtors","getHomeWithRealtor","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","homes","setHomes","realtors","setRealtors","loading","setLoading","error","setError","fetchData","fetchedHomes","fetchedRealtors","console","handleHomeAdded","newHome","prevHomes","children","className","path","element","message","onHomeAdded","getHome"],"sources":["C:/Users/foliv/Desktop/homes/frontend/src/App.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\n// import HomeList from './components/HomeList';\n// import HomeDetails from './components/HomeDetails';\n// import { listHomes } from './utils/api';\n// import { getHomeWithRealtor } from './utils/api'\n\n// function App() {\n//   const [homes, setHomes] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n//   useEffect(() => {\n//     async function fetchHomes() {\n//       try {\n//         const fetchedHomes = await listHomes();\n//         setHomes(fetchedHomes);\n//         setLoading(false);\n//       } catch (error) {\n//         console.error('Error fetching homes:', error);\n//         setError(error);\n//         setLoading(false);\n//       }\n//     }\n\n//     fetchHomes();\n//   }, []);\n\n//   return (\n//     <Router>\n//       <div className=\"App\">\n//         <Routes>\n//           <Route\n//             path=\"/\"\n//             element={\n//               loading ? (\n//                 <div>Loading...</div>\n//               ) : error ? (\n//                 <div>Error: {error.message}</div>\n//               ) : (\n//                 <HomeList homes={homes} />\n//               )\n//             }\n//           />\n//           <Route path=\"/:id\" element={<HomeDetails getHome={getHomeWithRealtor} />} />\n//         </Routes>\n//       </div>\n//     </Router>\n//   );\n// }\n\n// export default App;\n\n\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport HomeList from './components/HomeList';\nimport HomeDetails from './components/HomeDetails';\nimport AddHomeForm from './components/AddHomeForm'; // Import the AddHomeForm component\nimport { listHomes, listRealtors, getHomeWithRealtor } from './utils/api';\n\nfunction App() {\n  const [homes, setHomes] = useState([]);\n  const [realtors, setRealtors] = useState([]); // Add a state variable for realtors\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const fetchedHomes = await listHomes();\n        const fetchedRealtors = await listRealtors(); // Fetch the list of realtors\n        setHomes(fetchedHomes);\n        setRealtors(fetchedRealtors); // Set the list of realtors in state\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError(error);\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const handleHomeAdded = (newHome) => {\n    // Update the list of homes with the new home\n    setHomes((prevHomes) => [...prevHomes, newHome]);\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route\n            path=\"/\"\n            element={loading ? (\n              <div>Loading...</div>\n            ) : error ? (\n              <div>Error: {error.message}</div>\n            ) : (\n              <>\n                <HomeList homes={homes} onHomeAdded={handleHomeAdded} />\n              </>\n            )\n            }\n          />\n          <Route path=\"/:id\" element={<HomeDetails getHome={getHomeWithRealtor} />} />\n          <Route path=\"/add\" element={<AddHomeForm onHomeAdded={handleHomeAdded} realtors={realtors} />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}